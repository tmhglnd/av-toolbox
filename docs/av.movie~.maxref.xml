<?xml version='1.0' encoding='utf-8' standalone='yes'?>
<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>

<c74object name='av.movie~' category='' module=''>

    <digest>
        Movie playback made easier and seemless with audio output
    </digest>

    <description>
        A wrapper around the jit.movie~ object for easy patching with movie files. Uses the viddll engine and loads begin and end of the movie in the RAM for seamless looping of the file. Defaults with a texture output instead of a matrix. Outputs stereo sound left and right signals.
    </description>
    
    <discussion>
        
    </discussion>

    <!--METADATA-->
	<metadatalist>
		<metadata name="author">Timo Hoogland</metadata>
		<metadata name="tag">av-toolbox</metadata>
		<metadata name="tag">audiovisual</metadata>
		<metadata name="tag">composition</metadata>
		<metadata name="tag">live</metadata>
		<metadata name="tag">jitter</metadata>
		<metadata name="tag">opengl</metadata>
		<metadata name="tag">graphics</metadata>
		<metadata name="tag">analysis</metadata>
		<metadata name="tag">msp</metadata>
		<metadata name="tag">max</metadata>
	</metadatalist>

    <!-- INLETS -->
    <inletlist>
        <inlet id='0' type='int'>
            <digest>start/stop movie</digest>
            <description>start/stop movie</description>
        </inlet>
    </inletlist>

    <!-- OUTLETS -->
    <outletlist>
        <outlet id='0' type='jit_gl_texture'>
            <digest>movie output</digest>
            <description>movie output</description>
        </outlet>
        <outlet id='1' type='signal'>
            <digest>left channel output</digest>
            <description>left channel output</description>
        </outlet>
        <outlet id='2' type='signal'>
            <digest>right channel output</digest>
            <description>right channel output</description>
        </outlet>
    </outletlist>

    <!-- ARGUMENTS -->
    <objarglist>
    </objarglist>

    <!--MESSAGES-->
    <methodlist>
    <method name='int'>
        <arglist>
            <arg name='int' optional='1' type='int' />
        </arglist>
        <digest>
            Start/stop movie playback with 1/0 or toggle
        </digest>
        <description>
            Start/stop movie playback with 1/0 or toggle
        </description>
    </method>
    <method name='read'>
        <arglist>
            <arg name='read' optional='1' type='symbol' />
        </arglist>
        <digest>
            Read a movie from disk
        </digest>
        <description>
            Read a movie from disk
        </description>
    </method>
    <method name='asyncread'>
        <arglist>
            <arg name='asyncread' optional='1' type='symbol' />
        </arglist>
        <digest>
            Read a movie from a disk asynchronously
        </digest>
        <description>
            Read a movie from a disk asynchronously
        </description>
    </method>
    <method name='info'>
        <arglist>
            <arg name='info' optional='1' type='symbol' />
        </arglist>
        <digest>
            Report the info from the moviefile (framecount, length in milliseconds, dimension and fps)
        </digest>
        <description>
            Report the info from the moviefile (framecount, length in milliseconds, dimension and fps)
        </description>
    </method>
	</methodlist>

	<!--ATTRIBUTES-->
	<attributelist>
        <attribute name='file' type='symbol' size='1' get='1' set='1'>
            <digest>
                Load a moviefile from disk on initialisation
            </digest>
            <description>
                Load a moviefile from disk on initialisation
            </description>

            <attributelist>
                <attribute name='default' type='' size='' value='' get='1' set='1' />
            </attributelist>
        </attribute>
        <attribute name='rate' type='float' size='1' get='1' set='1'>
            <digest>
                Set the playback speed for the movie. 1 = original speed, 0.5 = half speed, 2 = double speed, etc. (default = 1)
            </digest>
            <description>
                Set the playback speed for the movie. 1 = original speed, 0.5 = half speed, 2 = double speed, etc. (default = 1)
            </description>

            <attributelist>
                <attribute name='default' type='' size='' value='' get='1' set='1' />
            </attributelist>
        </attribute>
        <attribute name='progress' type='bool' size='1' get='1' set='1'>
            <digest>
                Enable the output of the progress as a normalized value between 0 and 1 (default = 0)
            </digest>
            <description>
                Enable the output of the progress as a normalized value between 0 and 1 (default = 0)
            </description>

            <attributelist>
                <attribute name='default' type='' size='' value='' get='1' set='1' />
            </attributelist>
        </attribute>
        <attribute name='autostart' type='bool' size='1' get='1' set='1'>
            <digest>
                Automatically start playback when the movie is loaded (default = 1)
            </digest>
            <description>
                Automatically start playback when the movie is loaded (default = 1)
            </description>

            <attributelist>
                <attribute name='default' type='' size='' value='' get='1' set='1' />
            </attributelist>
        </attribute>
	</attributelist>

    <!-- INLETS -->
    <misc name="Input">
        <entry name='int'>
            <description>start/stop movie</description>
        </entry>
    </misc>

    <!-- OUTLETS -->
    <misc name="Output">
        <entry name='jit_gl_texture'>
            <description>movie output</description>
        </entry>
        <entry name='signal'>
            <description>left channel output</description>
        </entry>
        <entry name='signal'>
            <description>right channel output</description>
        </entry>
    </misc>

    <!--SEEALSO-->
	<seealsolist>
		<seealso name="av.automation~"/>
		<seealso name="av.amp~"/>
		<seealso name="av.camera.control"/>
		<seealso name="av.catch~"/>
		<seealso name="av.chance"/>
		<seealso name="av.cross3~"/>
		<seealso name="av.enable"/>
		<seealso name="av.enable.xfade"/>
		<seealso name="av.follow~"/> 
		<seealso name="av.follow3~"/> 
		<seealso name="av.hidecursor"/> 
		<seealso name="av.midside~"/>
		<seealso name="av.movie"/>
		<seealso name="av.movie~"/>
		<seealso name="av.movieplay~"/>
		<seealso name="av.paramgenerator"/> 
		<seealso name="av.phasor~"/>
		<seealso name="av.screenshot"/>
		<seealso name="av.spectrogram~"/>
		<seealso name="av.spectrum~"/>
		<seealso name="av.speedgate"/> 
		<seealso name="av.sync~"/>
		<seealso name="av.testpattern"/> 
		<seealso name="av.timepoint"/> 
		<seealso name="av.timetoticks"/> 
		<seealso name="av.timetrigger~"/>
		<seealso name="av.trigger~"/> 
		<seealso name="av.when"/>
        <seealso name='av.automation~' />
        <seealso name='av.amp~' />
        <seealso name='av.camera.control' />
	</seealsolist>
</c74object>
